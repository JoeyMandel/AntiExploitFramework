--[[
Off 0
On 1
Verbose 2
]]

local CONFIG = require(script.Parent.Parent.CONFIG)

local NAME_TO_DEBUG_LEVEL = {
    ["off"] = 0,
    ["default"] = 1,
    ["verbose"] = 2,
}

local DEBUG_MODE = NAME_TO_DEBUG_LEVEL[CONFIG.DebugMode] or 1
local debuggerMessages = {{},{},{}}

local Debugger = {}

function Debugger.Print(message: string, debugLevel: number)
    local messages = debuggerMessages[debugLevel + 1]

    if #messages >= 50 then
        table.remove(messages, #messages)
    end

    table.insert(messages, 1, {
        ["type"] = "print",
        ['message'] = message
    })

    if DEBUG_MODE >= debugLevel then
        print(message)
    end
end


function Debugger.Warn(message: string, debugLevel: number)
    local messages = debuggerMessages[debugLevel + 1]

    if #messages >= 50 then
        table.remove(messages, #messages)
    end

    table.insert(messages, 1, {
        ["type"] = "warn",
        ['message'] = message
    })
    
    if DEBUG_MODE >= debugLevel then
        warn(message)
    end
end

return Debugger